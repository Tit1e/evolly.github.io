<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>vue 监听子组件生命周期 · Tit1e</title><meta name="description" content="vue 监听子组件生命周期 - Tit1e"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://github.com/Tit1e/atom.xml" title="Tit1e"></head><body><div class="wrap"><header><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">主页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">过往</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">订阅</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">vue 监听子组件生命周期</h1><div class="post-info">Jun 9, 2020</div><div class="post-content"><p>前阵子做业务的时候遇到一个需求，需要在用户进入系统时加一个全局的 loading 遮罩层，在页面渲染完成后关闭遮罩，在正常的用户登录，进入系统这个流程下，实现这个并没有难度：</p>
<p>进入登录页-用户登录-显示 loading - 进入首页 - 在首页的 mounted 钩子中关闭 loading</p>
<p>但主要是用户不按这套来，用户直接在一个其他页面刷新的时候，这套就不适用了，除非你去每个页面的 mounted 钩子中都写一个关闭loading 的方法，但这样做明显不现实，页面少还好说，但我们的系统已经有几十个页面，每个都加一遍，实在过于麻烦。</p>
<p>后来我 Google 了一番，查到了 <code>@hook:mounted</code> 这个事件可以监听子组件的生命周期，这样我把它加 <code>&lt;router-view /&gt;</code> 上，就实现了监听每个页面的 mounted 生命周期，然后在回调中写入关闭 loading 的方法，就实现了效果。</p>
<p><a href="https://www.cnblogs.com/mengfangui/p/12546866.html" target="_blank" rel="noopener">参考链接</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2020/05/23/131-delete-weibo/" class="next">下一篇</a></div><div class="copyright"><p>© 2016 - 2020 <a href="https://github.com/Tit1e" target="_blank">Tit1e</a>, powered by <a href="https://github.com/Tit1e/hexo-theme-simple" target="_blank">hexo-theme-simple</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>